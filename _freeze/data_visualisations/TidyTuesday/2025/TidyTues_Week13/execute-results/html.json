{
  "hash": "c9d1ed9a3831a980bdedcb067b53c1ec",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TidyTuesday Week 13: Pokemon\"\nsubtitle: \"This week we are exploring Pokémon! This dataset is sourced from {pokemon} (CRAN | github), an R package which provides Pokémon information in both English and Brazilian Portuguese. \\n I will only be looking at Gen 1 Pokémon.\"\nauthor: \"Peter Gray\"\ndate: \"2025-03-30\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [tidytuesday, R, data visulation, ggplot2, patchwork, tidyverse]\nimage: \"thumbnails/TidyTues_Week13a.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: false\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: console\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n\n::: {#fig-charts layout-ncol=\"2\"}\n![Thumbnail 1](thumbnails/TidyTues_Week13a.png){#fig-singlechart}\n\n![Thumbnail 2](thumbnails/TidyTues_Week13b.png){#fig-multiplecharts}\n\nTidy Tuesday Week 13: Charts\n:::\n\n#### 1. R code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the packages in ----------------------------------------------------\n\nif(!require(tidyverse)){install.packages(\"tidyverse\"); library(tidyverse)}\nif(!require(patchwork)){install.packages(\"patchwork\"); library(patchwork)}\nif(!require(ggplot2)){install.packages(\"ggplot2\"); library(ggplot2)}\nif(!require(ggwordcloud)){install.packages(\"ggwordcloud\"); library(ggwordcloud)}\nif(!require(ggpmisc)){install.packages(\"ggpmisc\"); library(ggpmisc)}\nif(!require(ggimage)){install.packages(\"ggimage\"); library(ggimage)}\nif(!require(ggtext)){install.packages(\"ggtext\"); library(ggimage)}\nif(!require(rlist)){install.packages(\"rlist\"); library(rlist)}\n# I stick all my styling into a CUsotm PAckage to tidy up my code and keep it consistent over the time\nif(!require(CustomGGPlot2Theme)){devtools::install(\"CustomGGPlot2Theme\"); library(CustomGGPlot2Theme)}\n\n# get the wd - force of habit\nwd <- getwd()\n#pulling images off internet was taking a lot of time and casing a time out error\noptions(timeout = 1000) \n\n\n\nfont <- \"noto_mono\"\n\npokemon_df <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-04-01/pokemon_df.csv')\n\n# I only care about first gen - Older Millenial\n\nfirst_gen <- pokemon_df %>% \n  filter(generation_id == 1) %>% \n  #for later\n  rename(\"special attack\" = special_attack)\n\n# going to loop through attack, defence, special attack, speed\n\ncolumns <- c(\"attack\", \"defense\", \"special attack\", \"speed\")\nn = 3\n\n#empty list of plots\nlist_of_plots <- list()\n\nfor(n in 1: length(columns)) {\n  \n  data <- first_gen %>%\n    group_by(type_1) %>%\n    slice_max(order_by = .data[[columns[n]]], n = 1, with_ties = FALSE) %>%\n    ungroup() %>%\n    arrange(.data[[columns[n]]])  # Correct dynamic column referencing\n  \n  #Make labels with a picture of the Pokemon and then the name of the pokemon underneath\n  # Generate labels after sorting\n  labels <- paste0(\n    \"<img src='\", data$url_image, \"' width='45' height='35' /><br>\",\n    \"<span style='font-size:16px;'>\", # Add font size styling here\n    sapply(strwrap(str_to_title(data$pokemon), width = 20, simplify = FALSE), \n           function(x) paste(x, collapse = \"<br>\")),\n    \"</span>\"\n  )\n  \n  \n  \n  chart <- data %>%\n    ggplot(aes(x = reorder(pokemon, .data[[columns[n]]]), \n               y = .data[[columns[n]]], \n               fill = str_to_title(type_1))) +\n    geom_bar(stat = \"identity\") +\n    geom_text(aes(label = .data[[columns[n]]]),  \n              hjust = -0.5,\n              position = position_dodge(width = 0.25),\n              size = 6,  \n              family = font) +\n    coord_flip() +\n    labs(x = \"Pokémon\", \n         y = paste0(str_to_title(columns[n]), \" Score\"), \n         subtitle = str_to_title(columns[n]),\n         fill = \"Pokémon Type\") +  \n    Custom_Style() +\n    theme(axis.text.y = element_markdown(), \n          legend.text = element_text(size = 15),\n          axis.text = element_text(size = 12)) +\n    scale_x_discrete(labels = labels)  \n  \n  list_of_plots <- list.append(list_of_plots, chart)\n  \n}\n\n#single plot to look good for social media\nsingle_chart <- list_of_plots[[1]]\n\nsingle_chart <- single_chart +\n  labs(\n    title = 'Visualisation of various Pokémon stats by their Attack',\n    subtitle = \"TidyTuesday: Week 13, 2025\",\n    theme = Custom_Style()\n  ) +\n  theme(\n    plot.subtitle = element_text(size = 16)\n  )\n\n\npatchwork <- wrap_plots(list_of_plots) +\n  plot_layout(guides = \"collect\") +\n  plot_annotation(\n    title = str_wrap('Visualisation of various Pokémon stats by their type', 80),\n    subtitle = \"TidyTuesday: Week 13, 2025\",\n    theme = Custom_Style()\n  ) &\n  theme(\n    plot.title = element_text(size = 24),\n    plot.subtitle = element_text(size = 16)\n  )\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}