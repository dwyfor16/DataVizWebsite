{
  "hash": "f7fdff30b5692d0287f3bccc6fffeaea",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TidyTuesday Week 49: Qars-tar\"\nsubtitle: \"This week we are exploring data about cars in Qatar! One of the most common example datasets in R is mtcars, which contains data on a bunch of cars from 1974 (!). Some of the car companies in there don't even exist anymore, like Datsun. The mpg dataset that comes with {ggplot2} was designed to be an improvement on mtcars and includes vehicles from 1999 and 2008. However, both mpg and mtcars are highly US-centric---most people in the world don't think in gallons and miles and feet and inches---and neither dataset includes details about electric cars, which are increasingly common today.\"\nauthor: \"Peter Gray\"\ndate: \"2025-12-09\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [tidytuesday, python, data visulation, ggplot2, tidyverse]\nimage: \"thumbnails/TidyTues_Week49.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: false\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: console\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n![Chart](thumbnails/TidyTues_Week49.png){#fig-singlechart}\nBox Plots of Car prices in Qatar\n\n\n\n#### 1. R code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# | echo: true\n# | eval: false\n# | warning: false\n# | message: false\n\nif(!require(tidyverse)){install.packages(\"tidyverse\"); library(tidyverse)}\nif(!require(scales)){install.packages(\"scales\"); library(scales)}\nif(!require(patchwork)){install.packages(\"patchwork\"); library(patchwork)}\n\noptions(scipen=999)\n\nqatarcars <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-12-09/qatarcars.csv')\n\n\ndf <- qatarcars |> \n  select(origin, price) |> \n# Convert price to USD \nmutate(price_usd = price * 0.27) |> \n  mutate(origin = case_when(\n    origin == \"PR China\" ~ \"China\", TRUE ~ origin\n  ))\n\nplot_list <- list()\n\ncountries <- c(\"Italy\", \"RoW\")\n\ni = 1\n\nfor(i in 1:length(countries)) {\n  \n    if(countries[i] == \"Italy\") {\n      \n      df_i <- df |> \n        filter(origin  == \"Italy\" | origin == \"UK\")\n      \n      plot <- ggplot(df_i, aes(x = origin, y = price, fill = origin)) +\n        geom_boxplot(width=.30) +\n      theme(\n      panel.grid.major = element_blank(),\n      panel.background = element_blank(),\n      panel.grid.minor = element_blank(),\n      plot.title = element_text(size = 12),\n      legend.title = element_text(size = 12),\n      axis.title.x = element_blank(), \n       axis.line = element_line(linewidth = 0.2)\n    ) +\n    labs(\n      title = paste0(\"Italy and UK\"),\n      y = \"Price\",\n      fill = \"Country of Origin\"\n    ) +\n    scale_x_discrete(labels = ~ str_wrap(., width = 12)) +\n  scale_y_continuous(labels = label_dollar(prefix = \"QR\"))\n      \n      plot_list[[i]] <- plot\n      \n    }\n  \n  else{\n  \n      \n      df_i <- df |> \n        filter(origin  != \"Italy\" & origin != \"UK\")\n  \n    plot <- ggplot(df_i, aes(x = origin, y = price, fill = origin)) +\n    geom_boxplot() +\n      theme(\n      panel.grid.major = element_blank(),\n      panel.background = element_blank(),\n      panel.grid.minor = element_blank(),\n      plot.title = element_text(size = 12),\n      legend.title = element_text(size = 12),\n      axis.title.x = element_blank(),\n      axis.line = element_line(linewidth = 0.2)\n    ) +\n    labs(\n      title = paste(unique(df$origin[df$origin != \"Italy\" & df$origin != \"UK\"]), collapse = \", \"),\n      y = \"Price\",\n      fill = \"Country of Origin\"\n    ) +\n    scale_x_discrete(labels = ~ str_wrap(., width = 12)) +\n  scale_y_continuous(labels = label_dollar(prefix = \"QR\"))\n      \n      plot_list[[i]] <- plot\n      \n    }\n\n}\n\nplots <- plot_list[[2]] + plot_list[[1]]\n\n\nplots <- plots +\n  plot_annotation(\n    title = \"Prices of cars in Qatar\",\n    caption = \"Italy and UK split out due to significant differences in Pricing\",\n    theme = theme(\n      plot.title = element_text(\n        face = \"bold\",\n        size = 14,     # optional\n        hjust = 0.5    # optional centering\n      )\n    )\n  )\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}