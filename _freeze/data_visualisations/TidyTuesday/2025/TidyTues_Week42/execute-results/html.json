{
  "hash": "556304df1019350e44df983e706373dd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TidyTuesday Week 42: UK Historical \"\nsubtitle: \"The UK Met Office is the United Kingdomâ€™s national weather and climate service, providing forecasts, severe weather warnings, and climate science expertise. It helps people, businesses, and governments make informed decisions to stay safe and plan for the future. It was first established in 1854, making it one of the oldest weather services in the world.\"\nauthor: \"Peter Gray\"\ndate: \"2025-10-20\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [tidytuesday, R, data visulation, ggplot2, tidyverse]\nimage: \"thumbnails/TidyTues_Week42.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: false\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: console\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n![Chart](thumbnails/TidyTues_Week42.png){#fig-singlechart}\nGraph of  \n\n\n\n#### 1. R code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(tidyverse)) {\n  install.packages(\"tidyverse\")\n  library(tidyverse)\n}\nif (!require(patchwork)) {\n  install.packages(\"patchwork\")\n  library(patchwork)\n}\nif (!require(ggrepel)) {\n  install.packages(\"ggrepel\")\n  library(ggrepel)\n}\n# Read data\nhistoric_station_met <- readr::read_csv(\n  'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-10-21/historic_station_met.csv'\n)\nstation_meta <- readr::read_csv(\n  'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-10-21/station_meta.csv'\n)\n\n\nwelsh_stations <- c(\"aberporth\", \"cardiff\", \"cwmystwyth\", \"valley\")\n\nwelsh_data <- historic_station_met |>\n  filter(station %in% welsh_stations)\n\nwelsh_data_2024 <- welsh_data %>%\n  mutate(month = month.name[as.integer(month)]) %>%\n  filter(year == 2024) |>\n  mutate(month = factor(month, levels = month.name))\n\n\nmean_sunshine <- welsh_data_2024 |>\n  group_by(month) |>\n  summarise(mean_sunshine = mean(sun, na.rm = T)) |>\n  mutate(angle = (as.numeric(month) - 0.5) / 12 * 360)\n\nmean_rain <- welsh_data_2024 |>\n  group_by(month) |>\n  summarise(mean_rain = mean(rain, na.rm = T)) |>\n  mutate(angle = (as.numeric(month) - 0.5) / 12 * 360)\n\nmean_max_temp <- welsh_data_2024 |>\n  group_by(month) |>\n  summarise(mean_max_temp = mean(tmax, na.rm = T))\n\nmean_min_temp <- welsh_data_2024 |>\n  group_by(month) |>\n  summarise(mean_min_temp = mean(tmin, na.rm = T))\n\n\n##### Graphs\n\nmax_r <- max(mean_sunshine$mean_sunshine) + 5\n\nsunshine <- ggplot(\n  mean_sunshine,\n  aes(x = month, y = mean_sunshine, fill = mean_sunshine)\n) +\n  geom_bar(stat = \"identity\", width = 1, color = \"gold\") +\n  geom_label_repel(\n    aes(\n      label = paste0(round(mean_sunshine, 1), \" hrs\"),\n      y = mean_sunshine + 30\n    ),\n    size = 3.5,\n    color = \"black\"\n  ) +\n  coord_polar(start = 0) + # makes it circular\n  annotate(\"point\", x = 0, y = 0, size = 15, color = \"gold\") + # sun core\n  scale_fill_gradient(low = \"yellow\", high = \"orange\") +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_blank(),\n    axis.ticks = element_blank(),\n    axis.title = element_blank(),\n    panel.grid = element_blank(),\n    legend.position = \"bottom\",\n    axis.text.x = element_text(size = 12, face = \"bold\"),\n    title = element_text(size = 12, face = \"bold\")\n  ) +\n  labs(\n    fill = \"Mean Sunshine (hrs)\",\n    title = \"Average Monthly Hours of Sunshine in Wales in 2024\"\n  )\n\n\n\n\n#######################=== Rain\n\nrain <- ggplot(mean_rain, aes(x = month, y = mean_rain, fill = mean_rain)) +\n  geom_bar(stat = \"identity\", width = 1, color = \"lightgrey\") +\n  geom_label_repel(\n    aes(\n      label = paste0(round(mean_rain, 1), \" mm\"),\n      y = mean_rain + 30\n    ),\n    size = 5,\n    color = \"white\"\n  ) +\n  coord_polar(start = 0) + # makes it circular\n  # annotate(\"point\", x = 0, y = 0, size = 15, color = \"#2E5984\") +  # sun core\n  scale_fill_gradient(low = \"#BCD2E8\", high = \"#1C6CCC\") +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_blank(),\n    axis.ticks = element_blank(),\n    axis.title = element_blank(),\n    panel.grid = element_blank(),\n    legend.position = \"bottom\",\n    axis.text.x = element_text(size = 12, face = \"bold\"),\n    title = element_text(size = 12, face = \"bold\")\n  ) +\n  labs(\n    fill = \"Average Monthly Rainfall (mm)\",\n    title = \"Average Monthly Rainfall in Wales in 2024\"\n  )\n\n\n\n\nplots <- (sunshine + rain) \n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}