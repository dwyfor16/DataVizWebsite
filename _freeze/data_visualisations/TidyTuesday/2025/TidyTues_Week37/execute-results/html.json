{
  "hash": "fde487a6985741ab013c446324898ea5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TidyTuesday Week 37: Allrecipes Data\"\nsubtitle: \"This week we're exploring a curated collection of recipes collected from Allrecipes.com! The data this week comes from the tastyR package (a dataset assembled from Allrecipes.com) and was prepared for analysis in R.\"\nauthor: \"Peter Gray\"\ndate: \"2025-09-15\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [tidytuesday, R, data visulation, ggplot2, tidyverse]\nimage: \"thumbnails/TidyTues_Week36a.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: false\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: console\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n\n![Chart](thumbnails/TidyTues_Week37.png){#fig-singlechart}\nNutrientPLots\n\nThese boxplots compare calories, fat, carbs, and protein across world cuisines.North American and European/Oceanian recipes tend to be higher in calories and fat, while Asian and Latin American/Caribbean cuisines are more carb-heavy. Protein levels are fairly consistent across regions but appear to higher in the North American Region.\n\n:::\n\n#### 1. R code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(tidyverse)) {\n  install.packages(\"tidyverse\")\n  library(tidyverse)\n}\nif (!require(patchwork)) {\n  install.packages(\"patchwork\")\n  library(patchwork)\n}\nif (!require(ggplot2)) {\n  install.packages(\"ggplot2\")\n  library(ggplot2)\n}\nif (!require(CustomGGPlot2Theme)) {\n  devtools::install(\"CustomGGPlot2Theme\")\n  library(CustomGGPlot2Theme)\n}\n\nall_recipes <- readr::read_csv(\n  \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/all_recipes.csv\"\n)\ncuisines <- readr::read_csv(\n  \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/cuisines.csv\"\n)\n\n# creater broader food groups\ncuisines <- cuisines |>\n  mutate(country = as.factor(country)) |>\n  mutate(\n    region = fct_collapse(\n      country,\n\n      # --- Europe ---\n      Europe_Oceania = c(\n        \"Greek\",\n        \"Jewish\",\n        \"Australian and New Zealander\",\n        \"Danish\",\n        \"Spanish\",\n        \"Italian\",\n        \"Portuguese\",\n        \"Scandinavian\",\n        \"Norwegian\",\n        \"Swedish\",\n        \"Finnish\",\n        \"Russian\",\n        \"French\",\n        \"German\",\n        \"Polish\",\n        \"Dutch\",\n        \"Austrian\",\n        \"Belgian\",\n        \"Swiss\"\n      ),\n\n      # --- Middle Eastern / Persian ---\n      Middle_Eastern_Persian = c(\"Turkish\", \"Lebanese\", \"Israeli\", \"Persian\"),\n\n      # --- Asia ---\n      Asia = c(\n        \"Chinese\",\n        \"Japanese\",\n        \"Korean\",\n        \"Thai\",\n        \"Vietnamese\",\n        \"Malaysian\",\n        \"Indonesian\",\n        \"Filipino\",\n        \"Bangladeshi\",\n        \"Indian\",\n        \"Pakistani\"\n      ),\n\n      # --- Africa  ---\n      African = c(\"South African\"),\n\n      # --- North America ---\n      North_America = c(\n        \"Canadian\",\n        \"Southern Recipes\",\n        \"Cajun and Creole\",\n        \"Tex-Mex\",\n        \"Amish and Mennonite\",\n        \"Soul Food\"\n      ),\n\n      # --- Latin America & Caribbean ---\n      Latin_America_Caribbean = c(\n        \"Cuban\",\n        \"Puerto Rican\",\n        \"Brazilian\",\n        \"Argentinian\",\n        \"Peruvian\",\n        \"Chilean\",\n        \"Colombian\",\n        \"Jamaican\"\n      )\n    )\n  ) |>\n  mutate(region = str_replace_all(region, \"_\", \" \"))\n\ncolumns <- c(\"calories\", \"fat\", \"carbs\", \"protein\")\nregions <- unique(cuisines$region)\nplot_list <- list()\n\ni <- 1\nfor (i in 1:length(columns)) {\n  goo <- cuisines |>\n    select(region, columns[i])\n\n  plot <- ggplot(goo, aes(x = region, y = !!sym(columns[i]), fill = region)) +\n    geom_boxplot() +\n    Custom_Style() +\n    theme(\n      panel.grid.major = element_blank(),\n      panel.grid.minor = element_blank(),\n      plot.title = element_text(size = 12),\n      legend.title = element_text(size = 12),\n      legend.position = \"none\",\n      axis.title.x = element_blank()\n    ) +\n    labs(\n      title = paste0(str_to_title(columns[i])),\n      y = str_to_title(columns[i]),\n      fill = \"Region\"\n    ) +\n    scale_x_discrete(labels = ~ str_wrap(., width = 12))\n\n  plot_list[[i]] <- plot\n}\n\n\n# Fuction to Wrap Plots\nplot_a_list <- function(plot_list, rows, cols, title = NA) {\n  patchwork::wrap_plots(\n    plot_list,\n    nrow = rows,\n    ncol = cols,\n    guides = \"collect\"\n  ) +\n    plot_annotation(\n      title = title,\n      theme = theme(\n        plot.title = element_text(,\n          family = \"Roboto Mono\",\n          size = 14,\n          face = \"bold\",\n          hjust = 0.5\n        )\n      )\n    ) &\n    theme(\n      legend.position = \"right\",\n      legend.title.position = \"top\",\n      legend.text = element_text(size = 8),\n      legend.key.size = unit(0.4, \"cm\"),\n      legend.spacing.y = unit(3, \"cm\")\n    ) &\n    guides(\n      fill = guide_legend(ncol = 1, byrow = TRUE)\n    ) &\n    scale_fill_discrete(labels = ~ stringr::str_wrap(., width = 12))\n}\n\ntitle <- \"Boxplots of various nutritional components of regional cuisines\"\nplots <- plot_a_list(plot_list, 2, 2, title = str_to_title(title))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}